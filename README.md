# Highcharts
\subsection{ارتباط زبان‌های تحت وب و نمودارهای متحرک}

{Highcharts}
یک کتابخانه {JavaScript} برای رسم نمودارهای مختلف و پیشرفته است. با استفاده از این ابزار می‌توانیم نمودارهای پیشرفته و زیبایی ترسیم کنیم.

این ابزار نمودارهای مختلفی را تحت پوشش خود قرار می‌دهد، برای مثال می‌توان به نمودار خطی، نمودار سطحی، نمودار ستونی، نمودار دایره‌ای و ... اشاره نمود. در ادامه با استفاده از مثال‌های متنوع و گوناگون با نحوه استفاده از این ابزار قدرتمند بیشتر آشنا خواهیم شد.

نمودارهایی که با استفاده از ابزار {Highchart} ترسیم می‌شوند به‌صورت {SVG} در مرورگر نمایش داده می‌شوند. در مرورگرهای مدرن مثل {Chrom} و {Firefox} و ... از {SVG} استفاده می‌شود.

خصوصیت‌های ابزار {Highchart} عبارت‌اند از:

\begin{itemize}
\item
\textbf{\lr{Compatability}}:
این قابلیت تقریبا در همه مرورگرها و همه دستگاه‌های موجود پشتیبانی می‌شود.
\item
\textbf{\lr{Multitouch Support}}:
در دستگاه‌هایی که لمسی هستند می‌توانیم از قابلیت \lr{Multitouch} نمودارهای ساخته شده با استفاده از ابزار \lr{Highchart} استفاده کنیم.
\item
\textbf{\lr{Dynamic}}:
می‌توانیم پس از ساخت نمودار اولیه خود آن را با استفاده از \lr{Ajax} و ... به‌صورت پویا تغییر دهیم.
\item
\textbf{\lr{Multiple axes}}:
این قابلیت تنها به محورهای \lr{X} و \lr{Y} محدود نمی‌شود و با استفاده از این قابلیت می‌توانیم از محورهای بیشتری نیز استفاده کنیم. 
\item
\textbf{\lr{Export}}:
استفاده از این قابلیت به ما کمک می‌کند تا بتوانیم از نمودار خود به‌صورت‌های مختلفی همچون \lr{PNG}، \lr{SVG}، \lr{PDF} و \lr{JPEG} خروجی بگیریم.
\item
\textbf{\lr{Zoomablity}}:
به کمک این قابلیت می‌توانیم روی نمودار خود بزرگنمایی کنیم و اطلاعات را دقیق‌تر مشاهده کنیم.
\item
\textbf{\lr{Text Rotation}}:
این قابلیت کمک می‌کند تا بتوانیم عناوین را در جهت دلخواه بچرخانیم.

\end{itemize}

اولین قدم برای رسم نمودار خطی متحرک ساخت صفحه {HTML} است. در ابتدا یک فایل به‌نام {index.html} درست می‌کنیم و کدهای زیر را در آن قرار می‌دهیم:


<html>
<head>
      <title>Highcharts Tutorial</title>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/
      jquery.min.js"></script>
     <script src="http://code.highcharts.com/highcharts.js"></script>
</head>
<body>
    <div id="container" style="width: 550px; height: 400px; margin: 0 auto"></div>
    <script language="JavaScript">
     $(document).ready(function() {
        });
     </script>
</body>
</html>

همانطور که در برنامه بالا  مشاهده می‌کنید، در ابتدا و در قسمت {Head} کتابخانه‌های {jquery} و {highcharts} را فراخوانی می‌کنیم. و سپس یک {div} با {id = container} قرار می‌دهیم. نمودار ما در االمنت : در {html} هر تگ از آغاز تا پایان، المنت نامیده می‌شود.} {div} قرار می‌گیرد و خروجی محاسبات {highcharts} در آن نمایش داده می‌شود. در آخر نیز کدهای {JavaScript} را درون یک {script} جای می‌دهیم.

{Highcharts}
از تنظیمات ساده‌ای برای کشیدن نمودار استفاده می‌کند، در همین راستا از {JSON}: نمادگذاری اشیا در جاواسکریپت.} استفاده می‌کنیم.


$('#container').highcharts(json);

می‌بینید که در ابتدا المنت {container} را انتخاب کردیم و سپس متد را فراخوانی و از متغیر {json} به عنوان ورودی استفاده می‌کنیم. متغیر {json} یک عبارت از {JSON} است که تنظیمات مورد نظر ما در آن قرار داده شده است. 

{تذکر}:
{JSON} یک قالب استاندارد باز است که امکان تبادل داده‌ها در وب با استفاده ازجفت‌های خصوصیت کلید را ممکن ساخته است .

با استفاده از تابع {title} می‌توانیم عنوان اصلی نمودار را مشخص کنیم:


var title = {
  text: 'Monthly Average Temperature'   
};


برای مشخص کردن زیر عنوان نیز به صورت زیر عمل می‌کنیم:


var subtitle = {
  text: 'Source: WorldClimate.com'
};


توابع {xAxis} و {yAxis} به ترتیب سبب ترسیم محور افقی و عمودی می‌شوند، همانطور که مشاهده می‌کنید محور افقی ماه‌های سال میلادی را نشان می‌دهد و محور عمودی درجه سانتی‌گراد را تعیین می‌کند. 


var xAxis = {
   categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'
      ,'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
};
var yAxis = {
   title: {
      text: 'Temperature (\xB0C)'
   }
};
var tooltip = {
   valueSuffix: '\xB0C'
};


چنانچه بخواهیم با قرار دادن ماوس بر روی نقاط نمودار یک کادر شامل اطلاعات مختصری از آن نقطه به نمایش گذاشته شود، بایستی از تابع {tooltip} استفاده کنیم.

اضافه نمودن فهرست علائم و راهنما با استفاده از تابع {legend} امکان‌پذیر است، این تابع کمک می‌کند تا مشخص کنیم هر نمودار مربوط به چه چیزی است.



var legend = {
   layout: 'vertical',
   align: 'right',
   verticalAlign: 'middle'
};

می‌بینید که جهت فهرست خود را عمودی قرار داده‌ایم و مشخص کرده‌ایم که فهرست در سمت راست نمودار نمایش داده شود، با کلیک بر روی فهرست می‌توانیم نمودار و خط مربوط به آن را مخفی و یا نمایان کنیم.

با استفاده از مجموعه و یا سری  می‌توانیم اطلاعاتی که قرار است در نمودار نشان داده شود را مشخص کنیم.


var series =  [
   {
      name: 'Tokyo',
      data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 
         26.5, 23.3, 18.3, 13.9, 9.6]
   }, 
   {
      name: 'New York',
      data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 
         24.1, 20.1, 14.1, 8.6, 2.5]
   },  
   {
      name: 'London',
      data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 
         16.6, 14.2, 10.3, 6.6, 4.8]
   }
];
 می‌بینید که 3 مورد برای متغیر {series} قرار داده شده است و هر کدام از این موارد دارای یک نام و یک سری از داده هستند. هر سری از این داده‌ها در نمودار یک خط را تشکیل می‌دهد که در خروجی آن را خواهیم دید، .

حالا که تک تک جزئیات نمودار را ساختیم و تعریف کردیم، باید آن‎ها را به متغیر {json} اصلی اضافه کنیم، این کار به صورت زیر انجام می‌شود:

var json = {};

json.title = title;
json.subtitle = subtitle;
json.xAxis = xAxis;
json.yAxis = yAxis;
json.tooltip = tooltip;
json.legend = legend;
json.series = series;

در نهایت و در گام آخر باید با استفاده از کد زیر نمودار را ترسیم کنیم:

$('#container').highcharts(json);
 
با اجرای کد بالا نمودار به‌صورت زیبا نمایش داده می‌شود و تمام تنظیماتی که مورد نظرمان بر روی نمودار اعمال می‌شود.
